{"ast":null,"code":"var _jsxFileName = \"/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EventContainer = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\n  const {\n    category\n  } = useParams();\n  const {\n    number\n  } = useParams();\n  useEffect(() => {\n    getEvents();\n  }, []);\n  useEffect(() => {\n    setSelectedCategory(category);\n  }, []);\n  useEffect(() => {\n    if (number) {\n      h(number);\n    }\n  }, []);\n  const getEvents = function () {\n    console.log(\"getEvents\");\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events').then(res => res.json()).then(events => setEvents(events.events));\n  };\n  const handleEventSelect = id => {\n    const eventID = id.target.value;\n    const findEvent = events.find(event => {\n      return eventID === event.id;\n    });\n    setSelectedEvent(findEvent);\n  };\n  const handleCategorySelected = event => {\n    setSelectedCategory(event.target.textContent);\n  };\n  let filteredEvents = [];\n  if (selectedCategory) {\n    filteredEvents = events.filter(event => {\n      return event.categories[0].title === selectedCategory;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CategoryList, {\n      events: events,\n      handleCategorySelected: handleCategorySelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventList, {\n      events: filteredEvents,\n      handleEventSelect: handleEventSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventDetail, {\n      event: selectedEvent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(EventContainer, \"j/VoEjVXMAoKoX2t+vlmXW3fUn0=\", false, function () {\n  return [useParams, useParams];\n});\n_c = EventContainer;\nexport default EventContainer;\nvar _c;\n$RefreshReg$(_c, \"EventContainer\");","map":{"version":3,"names":["React","useState","useEffect","useParams","EventList","EventDetail","CategoryList","jsxDEV","_jsxDEV","Fragment","_Fragment","EventContainer","_s","events","setEvents","selectedCategory","setSelectedCategory","selectedEvent","setSelectedEvent","category","number","getEvents","h","console","log","fetch","then","res","json","handleEventSelect","id","eventID","target","value","findEvent","find","event","handleCategorySelected","textContent","filteredEvents","filter","categories","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {useParams} from 'react-router-dom'\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\n\n\nconst EventContainer = () => {\n\n    const [events, setEvents] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState(\"\");\n    const [selectedEvent, setSelectedEvent] = useState(\"\");\n    \n    const {category} = useParams()\n    const {number} = useParams()\n\n    useEffect(() => {getEvents();}, [])\n    useEffect(() => {setSelectedCategory(category);}, [])\n    useEffect(() => {if(number){h(number)}}, [])\n\n    const getEvents = function(){\n        console.log(\"getEvents\")\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events')\n    .then(res => res.json())\n    .then(events => setEvents(events.events))\n    }\n\n    const handleEventSelect = (id) => {\n        const eventID = id.target.value\n        const findEvent = events.find((event) => {\n            return eventID === event.id\n        })\n        setSelectedEvent(findEvent)\n    }\n\n    const handleCategorySelected = (event) => {\n        setSelectedCategory(event.target.textContent)\n\n    }\n\n    let filteredEvents = []\n    if (selectedCategory) { \n        filteredEvents = events.filter((event) => {\n            return event.categories[0].title === selectedCategory\n        })\n    }\n\n    return (\n        <>\n        <CategoryList events={events} handleCategorySelected={handleCategorySelected}/>\n        <EventList events={filteredEvents} handleEventSelect={handleEventSelect}/>\n        <EventDetail event={selectedEvent}/>\n        </>\n    )\n}\n\nexport default EventContainer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}