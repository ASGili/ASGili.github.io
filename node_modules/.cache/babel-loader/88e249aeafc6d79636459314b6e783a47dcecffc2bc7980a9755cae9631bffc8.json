{"ast":null,"code":"var _jsxFileName = \"/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EventContainer = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\n  useEffect(() => {\n    getEvents();\n  }, []);\n  const getEvents = function () {\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events').then(res => res.json()).then(events => setEvents(events.events));\n  };\n  const handleEventSelect = id => {\n    const eventID = id.target.value;\n    const findEvent = events.find(event => {\n      return eventID === event.id;\n    });\n    setSelectedEvent(findEvent);\n  };\n  const handleCategorySelected = event => {\n    setSelectedCategory(event.target.value);\n  };\n  let filteredEvents = [];\n  if (selectedCategory) {\n    filteredEvents = events.filter(event => {\n      return event.categories[0].title === selectedCategory;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CategoryList, {\n      events: events,\n      handleCategorySelected: handleCategorySelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventList, {\n      events: filteredEvents,\n      handleEventSelect: handleEventSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventDetail, {\n      event: selectedEvent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(EventContainer, \"Bh+tdbVIH3w+Y12jDod4yYvkJ0k=\");\n_c = EventContainer;\nexport default EventContainer;\nvar _c;\n$RefreshReg$(_c, \"EventContainer\");","map":{"version":3,"names":["React","useState","useEffect","EventList","EventDetail","CategoryList","jsxDEV","_jsxDEV","Fragment","_Fragment","EventContainer","_s","events","setEvents","selectedCategory","setSelectedCategory","selectedEvent","setSelectedEvent","getEvents","fetch","then","res","json","handleEventSelect","id","eventID","target","value","findEvent","find","event","handleCategorySelected","filteredEvents","filter","categories","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\n\n\nconst EventContainer = () => {\n\n    const [events, setEvents] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState(\"\");\n    const [selectedEvent, setSelectedEvent] = useState(\"\");\n    \n\n    useEffect(() => {getEvents();}, [])\n\n    const getEvents = function(){\n\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events')\n    .then(res => res.json())\n    .then(events => setEvents(events.events))\n    }\n\n    const handleEventSelect = (id) => {\n        const eventID = id.target.value\n        const findEvent = events.find((event) => {\n            return eventID === event.id\n        })\n        setSelectedEvent(findEvent)\n    }\n\n    const handleCategorySelected = (event) => {\n        setSelectedCategory(event.target.value)\n    }\n\n    let filteredEvents = []\n    if (selectedCategory) { \n        filteredEvents = events.filter((event) => {\n            return event.categories[0].title === selectedCategory\n        })\n    }\n\n    return (\n        <>\n        <CategoryList events={events} handleCategorySelected={handleCategorySelected}/>\n        <EventList events={filteredEvents} handleEventSelect={handleEventSelect}/>\n        <EventDetail event={selectedEvent}/>\n        </>\n    )\n}\n\nexport default EventContainer"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,YAAY,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGtD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEzB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACa,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,EAAE,CAAC;EAGtDC,SAAS,CAAC,MAAM;IAACgB,SAAS,CAAC,CAAC;EAAC,CAAC,EAAE,EAAE,CAAC;EAEnC,MAAMA,SAAS,GAAG,SAAAA,CAAA,EAAU;IAE5BC,KAAK,CAAC,2CAA2C,CAAC,CACjDC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACR,MAAM,IAAIC,SAAS,CAACD,MAAM,CAACA,MAAM,CAAC,CAAC;EACzC,CAAC;EAED,MAAMW,iBAAiB,GAAIC,EAAE,IAAK;IAC9B,MAAMC,OAAO,GAAGD,EAAE,CAACE,MAAM,CAACC,KAAK;IAC/B,MAAMC,SAAS,GAAGhB,MAAM,CAACiB,IAAI,CAAEC,KAAK,IAAK;MACrC,OAAOL,OAAO,KAAKK,KAAK,CAACN,EAAE;IAC/B,CAAC,CAAC;IACFP,gBAAgB,CAACW,SAAS,CAAC;EAC/B,CAAC;EAED,MAAMG,sBAAsB,GAAID,KAAK,IAAK;IACtCf,mBAAmB,CAACe,KAAK,CAACJ,MAAM,CAACC,KAAK,CAAC;EAC3C,CAAC;EAED,IAAIK,cAAc,GAAG,EAAE;EACvB,IAAIlB,gBAAgB,EAAE;IAClBkB,cAAc,GAAGpB,MAAM,CAACqB,MAAM,CAAEH,KAAK,IAAK;MACtC,OAAOA,KAAK,CAACI,UAAU,CAAC,CAAC,CAAC,CAACC,KAAK,KAAKrB,gBAAgB;IACzD,CAAC,CAAC;EACN;EAEA,oBACIP,OAAA,CAAAE,SAAA;IAAA2B,QAAA,gBACA7B,OAAA,CAACF,YAAY;MAACO,MAAM,EAAEA,MAAO;MAACmB,sBAAsB,EAAEA;IAAuB;MAAAM,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAC/EjC,OAAA,CAACJ,SAAS;MAACS,MAAM,EAAEoB,cAAe;MAACT,iBAAiB,EAAEA;IAAkB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAC1EjC,OAAA,CAACH,WAAW;MAAC0B,KAAK,EAAEd;IAAc;MAAAqB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA,eAClC,CAAC;AAEX,CAAC;AAAA7B,EAAA,CA1CKD,cAAc;AAAA+B,EAAA,GAAd/B,cAAc;AA4CpB,eAAeA,cAAc;AAAA,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}