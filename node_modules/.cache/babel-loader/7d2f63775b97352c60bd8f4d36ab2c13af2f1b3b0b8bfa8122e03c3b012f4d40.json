{"ast":null,"code":"var _jsxFileName = \"/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js\",\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport useParams from 'react-router-dom';\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EventContainer = () => {\n  _s2();\n  var _s = $RefreshSig$();\n  const [events, setEvents] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\n  useEffect(() => {\n    getEvents();\n  }, []);\n  _s(useEffect(_s(() => {\n    _s();\n    handleCategorySelected(useParams());\n  }, \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n    return [useParams];\n  }), []), \"zmUErVVHtqqM6DIDQ9M8H17P2nM=\", false, function () {\n    return [useParams];\n  });\n  const getEvents = function () {\n    console.log(\"getEvents\");\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events').then(res => res.json()).then(events => setEvents(events.events));\n  };\n  const handleEventSelect = id => {\n    const eventID = id.target.value;\n    const findEvent = events.find(event => {\n      return eventID === event.id;\n    });\n    setSelectedEvent(findEvent);\n  };\n  const handleCategorySelected = event => {\n    setSelectedCategory(event.target.textContent);\n  };\n  let filteredEvents = [];\n  if (selectedCategory) {\n    filteredEvents = events.filter(event => {\n      return event.categories[0].title === selectedCategory;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CategoryList, {\n      events: events,\n      handleCategorySelected: handleCategorySelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventList, {\n      events: filteredEvents,\n      handleEventSelect: handleEventSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventDetail, {\n      event: selectedEvent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s2(EventContainer, \"JgNxltbMSnLdR+Y3FGqtUSHz64Y=\");\n_c = EventContainer;\nexport default EventContainer;\nvar _c;\n$RefreshReg$(_c, \"EventContainer\");","map":{"version":3,"names":["React","useState","useEffect","useParams","EventList","EventDetail","CategoryList","jsxDEV","_jsxDEV","Fragment","_Fragment","EventContainer","_s2","_s","$RefreshSig$","events","setEvents","selectedCategory","setSelectedCategory","selectedEvent","setSelectedEvent","getEvents","handleCategorySelected","console","log","fetch","then","res","json","handleEventSelect","id","eventID","target","value","findEvent","find","event","textContent","filteredEvents","filter","categories","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport useParams from 'react-router-dom'\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\n\n\nconst EventContainer = () => {\n\n    const [events, setEvents] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState(\"\");\n    const [selectedEvent, setSelectedEvent] = useState(\"\");\n    \n\n    useEffect(() => {getEvents();}, [])\n    useEffect(() => {handleCategorySelected(useParams());}, [])\n\n    const getEvents = function(){\n        console.log(\"getEvents\")\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events')\n    .then(res => res.json())\n    .then(events => setEvents(events.events))\n    }\n\n    const handleEventSelect = (id) => {\n        const eventID = id.target.value\n        const findEvent = events.find((event) => {\n            return eventID === event.id\n        })\n        setSelectedEvent(findEvent)\n    }\n\n    const handleCategorySelected = (event) => {\n        setSelectedCategory(event.target.textContent)\n    }\n\n    let filteredEvents = []\n    if (selectedCategory) { \n        filteredEvents = events.filter((event) => {\n            return event.categories[0].title === selectedCategory\n        })\n    }\n\n    return (\n        <>\n        <CategoryList events={events} handleCategorySelected={handleCategorySelected}/>\n        <EventList events={filteredEvents} handleEventSelect={handleEventSelect}/>\n        <EventDetail event={selectedEvent}/>\n        </>\n    )\n}\n\nexport default EventContainer"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}