{"ast":null,"code":"var _jsxFileName = \"/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst EventContainer = () => {\n  _s();\n  const [events, setEvents] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState(\"\");\n  const [selectedEvent, setSelectedEvent] = useState(\"\");\n  let param = useParams();\n  useEffect(() => {\n    getEvents();\n  }, []);\n  useEffect(() => {\n    setSelectedCategory(param.value);\n  }, []);\n  const getEvents = function () {\n    console.log(\"getEvents\");\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events').then(res => res.json()).then(events => setEvents(events.events));\n  };\n  const handleEventSelect = id => {\n    const eventID = id.target.value;\n    const findEvent = events.find(event => {\n      return eventID === event.id;\n    });\n    setSelectedEvent(findEvent);\n  };\n  const handleCategorySelected = event => {\n    setSelectedCategory(event.target.textContent);\n  };\n  let filteredEvents = [];\n  if (selectedCategory) {\n    filteredEvents = events.filter(event => {\n      return event.categories[0].title === selectedCategory;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CategoryList, {\n      events: events,\n      handleCategorySelected: handleCategorySelected\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventList, {\n      events: filteredEvents,\n      handleEventSelect: handleEventSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(EventDetail, {\n      event: selectedEvent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n};\n_s(EventContainer, \"L0CMcrW+bXXEYei6XWiX70anldc=\", false, function () {\n  return [useParams];\n});\n_c = EventContainer;\nexport default EventContainer;\nvar _c;\n$RefreshReg$(_c, \"EventContainer\");","map":{"version":3,"names":["React","useState","useEffect","useParams","EventList","EventDetail","CategoryList","jsxDEV","_jsxDEV","Fragment","_Fragment","EventContainer","_s","events","setEvents","selectedCategory","setSelectedCategory","selectedEvent","setSelectedEvent","param","getEvents","value","console","log","fetch","then","res","json","handleEventSelect","id","eventID","target","findEvent","find","event","handleCategorySelected","textContent","filteredEvents","filter","categories","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/asg/codeclan_work/week_08/day_1/DisastroAlert/src/containers/EventsContainer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport {useParams} from 'react-router-dom'\nimport EventList from '../components/EventList';\nimport EventDetail from '../components/EventDetail';\nimport CategoryList from '../components/CategoryList';\n\n\nconst EventContainer = () => {\n\n    const [events, setEvents] = useState([]);\n    const [selectedCategory, setSelectedCategory] = useState(\"\");\n    const [selectedEvent, setSelectedEvent] = useState(\"\");\n    \n    let param = useParams()\n\n    useEffect(() => {getEvents();}, [])\n    useEffect(() => {setSelectedCategory(param.value);}, [])\n\n    const getEvents = function(){\n        console.log(\"getEvents\")\n    fetch('https://eonet.gsfc.nasa.gov/api/v3/events')\n    .then(res => res.json())\n    .then(events => setEvents(events.events))\n    }\n\n    const handleEventSelect = (id) => {\n        const eventID = id.target.value\n        const findEvent = events.find((event) => {\n            return eventID === event.id\n        })\n        setSelectedEvent(findEvent)\n    }\n\n    const handleCategorySelected = (event) => {\n        setSelectedCategory(event.target.textContent)\n    }\n\n    let filteredEvents = []\n    if (selectedCategory) { \n        filteredEvents = events.filter((event) => {\n            return event.categories[0].title === selectedCategory\n        })\n    }\n\n    return (\n        <>\n        <CategoryList events={events} handleCategorySelected={handleCategorySelected}/>\n        <EventList events={filteredEvents} handleEventSelect={handleEventSelect}/>\n        <EventDetail event={selectedEvent}/>\n        </>\n    )\n}\n\nexport default EventContainer"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAAQC,SAAS,QAAO,kBAAkB;AAC1C,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,YAAY,MAAM,4BAA4B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAAA,SAAAC,QAAA,IAAAC,SAAA;AAGtD,MAAMC,cAAc,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAEzB,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACc,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAC5D,MAAM,CAACgB,aAAa,EAAEC,gBAAgB,CAAC,GAAGjB,QAAQ,CAAC,EAAE,CAAC;EAEtD,IAAIkB,KAAK,GAAGhB,SAAS,CAAC,CAAC;EAEvBD,SAAS,CAAC,MAAM;IAACkB,SAAS,CAAC,CAAC;EAAC,CAAC,EAAE,EAAE,CAAC;EACnClB,SAAS,CAAC,MAAM;IAACc,mBAAmB,CAACG,KAAK,CAACE,KAAK,CAAC;EAAC,CAAC,EAAE,EAAE,CAAC;EAExD,MAAMD,SAAS,GAAG,SAAAA,CAAA,EAAU;IACxBE,OAAO,CAACC,GAAG,CAAC,WAAW,CAAC;IAC5BC,KAAK,CAAC,2CAA2C,CAAC,CACjDC,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CAACZ,MAAM,IAAIC,SAAS,CAACD,MAAM,CAACA,MAAM,CAAC,CAAC;EACzC,CAAC;EAED,MAAMe,iBAAiB,GAAIC,EAAE,IAAK;IAC9B,MAAMC,OAAO,GAAGD,EAAE,CAACE,MAAM,CAACV,KAAK;IAC/B,MAAMW,SAAS,GAAGnB,MAAM,CAACoB,IAAI,CAAEC,KAAK,IAAK;MACrC,OAAOJ,OAAO,KAAKI,KAAK,CAACL,EAAE;IAC/B,CAAC,CAAC;IACFX,gBAAgB,CAACc,SAAS,CAAC;EAC/B,CAAC;EAED,MAAMG,sBAAsB,GAAID,KAAK,IAAK;IACtClB,mBAAmB,CAACkB,KAAK,CAACH,MAAM,CAACK,WAAW,CAAC;EACjD,CAAC;EAED,IAAIC,cAAc,GAAG,EAAE;EACvB,IAAItB,gBAAgB,EAAE;IAClBsB,cAAc,GAAGxB,MAAM,CAACyB,MAAM,CAAEJ,KAAK,IAAK;MACtC,OAAOA,KAAK,CAACK,UAAU,CAAC,CAAC,CAAC,CAACC,KAAK,KAAKzB,gBAAgB;IACzD,CAAC,CAAC;EACN;EAEA,oBACIP,OAAA,CAAAE,SAAA;IAAA+B,QAAA,gBACAjC,OAAA,CAACF,YAAY;MAACO,MAAM,EAAEA,MAAO;MAACsB,sBAAsB,EAAEA;IAAuB;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAC/ErC,OAAA,CAACJ,SAAS;MAACS,MAAM,EAAEwB,cAAe;MAACT,iBAAiB,EAAEA;IAAkB;MAAAc,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eAC1ErC,OAAA,CAACH,WAAW;MAAC6B,KAAK,EAAEjB;IAAc;MAAAyB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA,eAClC,CAAC;AAEX,CAAC;AAAAjC,EAAA,CA5CKD,cAAc;EAAA,QAMJR,SAAS;AAAA;AAAA2C,EAAA,GANnBnC,cAAc;AA8CpB,eAAeA,cAAc;AAAA,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}